<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netflix</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/941dbd7ae9.js" crossorigin="anonymous"></script>
    
    <style>
        body { background-color: #141414; }
        .netflix-logo { color: #e50914; font-size: 24px; font-weight: bold; }
        .content-card { min-width: 250px; height: 140px; cursor: pointer; transition: transform 0.3s; }
        .content-card:hover { transform: scale(1.05); }
        .content-video { opacity: 0; transition: opacity 0.3s; }
        .content-card:hover .content-video { opacity: 1; }
        .content-card:hover .content-poster { opacity: 0; }
        .scroll-x { overflow-x: auto; }
        .scroll-x::-webkit-scrollbar { height: 6px; }
        .scroll-x::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 3px; }
    </style>
</head>
<body class="text-white">
    <!-- Header -->
    <nav class="navbar navbar-dark bg-dark fixed-top px-4">
        <div class="container-fluid">
            <span class="netflix-logo">NETFLIX</span>
        </div>
    </nav>

    <!-- Billboard -->
    <div class="position-relative overflow-hidden" style="height: 70vh; margin-top: 56px;">
        <img src="/images/<%=data[0].poster%>" 
             class="w-100 h-100 object-fit-cover position-absolute" 
             alt="<%=data[0].programname%>"
             style="object-position: center;">
        <video class="w-100 h-100 object-fit-cover position-absolute top-0 start-0" 
               autoplay muted loop style="object-position: center;">
            <source src="/videos/<%=data[0].video%>" type="video/mp4">
        </video>
        <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center px-5" 
             style="background: linear-gradient(90deg, rgba(0,0,0,0.8) 50%, transparent);">
            <div style="max-width: 500px;">
                <h1 class="display-4 fw-bold mb-3"><%=data[0].programname%></h1>
                <p class="fs-5 mb-4">Watch the latest and greatest content on Netflix</p>
                <button class="btn btn-light btn-lg me-3" onclick="playContent('<%=data[0].video%>')">
                    <i class="fas fa-play me-2"></i>Play
                </button>
                <button class="btn btn-secondary btn-lg">
                    <i class="fas fa-info-circle me-2"></i>More Info
                </button>
            </div>
        </div>
    </div>

    <!-- Content Sections -->
    <div class="container-fluid px-4 py-4">
        <!-- Movies -->
        <div class="mb-5">
            <h3 class="mb-3">Movies</h3>
            <div class="d-flex gap-2 scroll-x pb-3">
                <% data.forEach(function(item) { %>
                    <% if(item.categoryname === 'Movies') { %>
                    <div class="content-card position-relative rounded overflow-hidden flex-shrink-0" 
                         onclick="playContent('<%=item.video%>')">
                        <img src="/images/<%=item.poster%>" 
                             class="content-poster w-100 h-100 object-fit-cover" 
                             alt="<%=item.programname%>">
                        <video class="content-video position-absolute top-0 start-0 w-100 h-100 object-fit-cover" 
                               preload="none">
                            <source src="/videos/<%=item.video%>" type="video/mp4">
                        </video>
                        <div class="position-absolute bottom-0 start-0 end-0 p-2 text-white" 
                             style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                            <small class="fw-bold"><%=item.programname%></small>
                        </div>
                    </div>
                    <% } %>
                <% }); %>
            </div>
        </div>

        <!-- TV Shows -->
        <div class="mb-5">
            <h3 class="mb-3">TV Shows</h3>
            <div class="d-flex gap-2 scroll-x pb-3">
                <% data.forEach(function(item) { %>
                    <% if(item.categoryname === 'TV Shows') { %>
                    <div class="content-card position-relative rounded overflow-hidden flex-shrink-0" 
                         onclick="playContent('<%=item.video%>')">
                        <img src="/images/<%=item.poster%>" 
                             class="content-poster w-100 h-100 object-fit-cover" 
                             alt="<%=item.programname%>">
                        <video class="content-video position-absolute top-0 start-0 w-100 h-100 object-fit-cover" 
                               preload="none">
                            <source src="/videos/<%=item.video%>" type="video/mp4">
                        </video>
                        <div class="position-absolute bottom-0 start-0 end-0 p-2 text-white" 
                             style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                            <small class="fw-bold"><%=item.programname%></small>
                        </div>
                    </div>
                    <% } %>
                <% }); %>
            </div>
        </div>

        <!-- Documentaries -->
        <div class="mb-5">
            <h3 class="mb-3">Documentaries</h3>
            <div class="d-flex gap-2 scroll-x pb-3">
                <% data.forEach(function(item) { %>
                    <% if(item.categoryname === 'Documentaries') { %>
                    <div class="content-card position-relative rounded overflow-hidden flex-shrink-0" 
                         onclick="playContent('<%=item.video%>')">
                        <img src="/images/<%=item.poster%>" 
                             class="content-poster w-100 h-100 object-fit-cover" 
                             alt="<%=item.programname%>">
                        <video class="content-video position-absolute top-0 start-0 w-100 h-100 object-fit-cover" 
                               preload="none">
                            <source src="/videos/<%=item.video%>" type="video/mp4">
                        </video>
                        <div class="position-absolute bottom-0 start-0 end-0 p-2 text-white" 
                             style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                            <small class="fw-bold"><%=item.programname%></small>
                        </div>
                    </div>
                    <% } %>
                <% }); %>
            </div>
        </div>

        <!-- Kids -->
        <div class="mb-5">
            <h3 class="mb-3">Kids</h3>
            <div class="d-flex gap-2 scroll-x pb-3">
                <% data.forEach(function(item) { %>
                    <% if(item.categoryname === 'Kids') { %>
                    <div class="content-card position-relative rounded overflow-hidden flex-shrink-0" 
                         onclick="playContent('<%=item.video%>')">
                        <img src="/images/<%=item.poster%>" 
                             class="content-poster w-100 h-100 object-fit-cover" 
                             alt="<%=item.programname%>">
                        <video class="content-video position-absolute top-0 start-0 w-100 h-100 object-fit-cover" 
                               preload="none">
                            <source src="/videos/<%=item.video%>" type="video/mp4">
                        </video>
                        <div class="position-absolute bottom-0 start-0 end-0 p-2 text-white" 
                             style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                            <small class="fw-bold"><%=item.programname%></small>
                        </div>
                    </div>
                    <% } %>
                <% }); %>
            </div>
        </div>

        <!-- Anime -->
        <div class="mb-5">
            <h3 class="mb-3">Anime</h3>
            <div class="d-flex gap-2 scroll-x pb-3">
                <% data.forEach(function(item) { %>
                    <% if(item.categoryname === 'Anime') { %>
                    <div class="content-card position-relative rounded overflow-hidden flex-shrink-0" 
                         onclick="playContent('<%=item.video%>')">
                        <img src="/images/<%=item.poster%>" 
                             class="content-poster w-100 h-100 object-fit-cover" 
                             alt="<%=item.programname%>">
                        <video class="content-video position-absolute top-0 start-0 w-100 h-100 object-fit-cover" 
                               preload="none">
                            <source src="/videos/<%=item.video%>" type="video/mp4">
                        </video>
                        <div class="position-absolute bottom-0 start-0 end-0 p-2 text-white" 
                             style="background: linear-gradient(transparent, rgba(0,0,0,0.8));">
                            <small class="fw-bold"><%=item.programname%></small>
                        </div>
                    </div>
                    <% } %>
                <% }); %>
            </div>
        </div>
    </div>

    <!-- Video Modal -->
    <div class="modal fade" id="videoModal" tabindex="-1">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content bg-dark">
                <div class="modal-header border-0">
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-0">
                    <video id="modalVideo" class="w-100" controls>
                        <source src="" type="video/mp4">
                    </video>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Netflix JavaScript -->
    <script src="/javascripts/netflix-home.js"></script>
</body>
</html>